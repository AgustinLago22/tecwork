TECWORK - CLAUDE DOCUMENTATION
=====================================

RESUMEN DEL PROYECTO
--------------------
TecWork es una plataforma que conecta estudiantes universitarios (UNNE) con proyectos reales de empresas.
Stack: Next.js 15 + TypeScript + Tailwind + Supabase + Vercel

ESTADO ACTUAL
-------------
‚úÖ MVP Backend completamente funcional
‚úÖ Sistema de autenticaci√≥n admin simple
‚úÖ Dashboard con m√©tricas
‚úÖ Formularios conectados a base de datos
‚úÖ Base de datos normalizada y simplificada

ESTRUCTURA DEL PROYECTO
-----------------------
tecwork/
‚îú‚îÄ‚îÄ app/                    # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ api/               # API Routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/          # Sistema auth simple
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ leads/         # API leads
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ applicants/    # API applicants
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/         # Panel admin (protegido)
‚îÇ   ‚îú‚îÄ‚îÄ contacto/          # Formulario empresas ‚Üí leads
‚îÇ   ‚îú‚îÄ‚îÄ sumate/           # Formulario estudiantes ‚Üí applicants
‚îÇ   ‚îú‚îÄ‚îÄ login/            # Login admin
‚îÇ   ‚îî‚îÄ‚îÄ (otras p√°ginas p√∫blicas)
‚îú‚îÄ‚îÄ components/            # Componentes React + shadcn/ui
‚îú‚îÄ‚îÄ lib/                  # Utilidades
‚îÇ   ‚îú‚îÄ‚îÄ auth/             # Auth simple con cookies
‚îÇ   ‚îú‚îÄ‚îÄ supabase/         # Cliente Supabase
‚îÇ   ‚îî‚îÄ‚îÄ types/            # Tipos TypeScript
‚îú‚îÄ‚îÄ scripts/              # Scripts SQL para Supabase
‚îî‚îÄ‚îÄ middleware.ts         # Protecci√≥n rutas admin

BASE DE DATOS - ESTRUCTURA FINAL
--------------------------------
Script principal: scripts/create-base.sql

TABLAS CAT√ÅLOGO (SERIAL para eficiencia):
- universidades: id, codigo, nombre (UNNE, UBA, UTN, UNC, UADE)
- carreras: id, nombre (7 carreras tecnol√≥gicas)
- niveles_experiencia: id, nombre, descripcion (Principiante, Intermedio, Avanzado)
- estados_leads: id, descripcion (Pendiente, En Espera, Terminado, Cancelado)
- estados_aplicantes: id, descripcion (7 estados desde Aplicaci√≥n Recibida hasta Inactivo)
- niveles_urgencia: id, nombre (Baja, Media, Alta, Urgente)
- tipos_proyecto: id, descripcion (Frontend, Backend, FullStack, Web, Mobile, Data, UI/UX, DevOps)

TABLAS PRINCIPALES (UUID para registros √∫nicos):
leads:
- id (UUID), nombre, email, telefono, empresa, necesidad, mensaje
- urgencia_id, estado_id, tipo_proyecto_id (FKs a tablas cat√°logo)
- consentimiento (BOOLEAN DEFAULT true)
- created_at, updated_at (auto-actualizadas con triggers)
- Validaci√≥n: email regex, RLS policies

aplicantes:
- id (UUID), nombre, apellido, email, telefono
- a√±o_cursado (INTEGER 1-7), github_url, linkedin_url, portfolio_url
- habilidades (TEXT), motivacion (TEXT)
- universidad_id, carrera_id, nivel_experiencia_id, estado_id (FKs)
- consentimiento (BOOLEAN DEFAULT true)
- created_at, updated_at (auto-actualizadas con triggers)
- Validaci√≥n: email regex, a√±o_cursado CHECK constraint

VISTAS OPTIMIZADAS PARA DASHBOARD:
- vista_leads: JOINs completos con nombres de urgencia, estado, tipo_proyecto
- vista_aplicantes: JOINs completos con universidad, carrera, experiencia, estado

CARACTER√çSTICAS T√âCNICAS:
- Auto-update timestamps con triggers PLpgSQL
- Row Level Security habilitado
- Pol√≠ticas p√∫blicas para INSERT (formularios)
- Pol√≠ticas admin para SELECT/UPDATE/DELETE
- √çndices optimizados en estado_id, email, created_at
- UUIDs para tablas principales, SERIAL para cat√°logos
- Datos iniciales pre-cargados

SISTEMA DE AUTENTICACI√ìN
-----------------------
- Tipo: Simple password √∫nico para admin (NO estudiantes/clientes en v0)
- Password: ADMIN_PASSWORD en .env.local
- Cookies HTTP-only para sesi√≥n
- Middleware protege rutas /dashboard y /admin
- Rutas p√∫blicas: /, /contacto, /sumate, /login

APIs IMPLEMENTADAS
-----------------
Auth:
- POST /api/auth/login - Login con password
- POST /api/auth/logout - Logout y clear cookie

Leads:
- GET /api/leads - Obtener leads (admin only)
- POST /api/leads - Crear lead desde formulario (p√∫blico)

Applicants:
- GET /api/applicants - Obtener applicants (admin only)
- POST /api/applicants - Crear applicant desde formulario (p√∫blico)

FORMULARIOS
-----------
/contacto (leads):
- Informaci√≥n: nombre, email, telefono, empresa
- Tipo proyecto: 6 opciones (web, dashboard, automatizaci√≥n, etc.)
- Timeline: urgente, 1_mes, 2_3_meses, flexible
- Descripci√≥n proyecto
- C√≥mo conociste: mapea a source_id
- REMOVIDO: presupuesto

/sumate (applicants):
- Personal: nombre, email, telefono
- Universidad: Select con 8 opciones ‚Üí university_id
- Carrera: Select con 9 opciones ‚Üí carrera_id
- A√±o cursado: 1-5, m√°ster, doctorado
- Rol: frontend, backend, fullstack, mobile, uiux, data
- Experience: 0 proyectos, 1-2, +3, +5
- Skills: Checkboxes ‚Üí guardado como TEXT separado por comas
- Links: github, linkedin, portfolio
- Motivaci√≥n y experiencia
- REMOVIDO: disponibilidad, tarifa horaria

DASHBOARD (/dashboard)
---------------------
- Protegido por middleware
- M√©tricas: total leads, leads nuevos, total estudiantes, pendientes
- Listas recientes de leads y applicants
- Enlaces r√°pidos a formularios
- Bot√≥n logout

CONFIGURACI√ìN REQUERIDA
----------------------
.env.local:
ADMIN_PASSWORD=tecwork_admin_2024
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOi...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOi...
NEXT_PUBLIC_APP_URL=http://localhost:3000

COMANDOS
--------
npm run dev - Desarrollo
npm run build - Build
npm run start - Producci√≥n
npm run lint - Linting

ARCHIVOS CLAVE MODIFICADOS
--------------------------
- scripts/create-base.sql - ‚úÖ Schema final con UUID + SERIAL h√≠brido EJECUTADO
- lib/types/database.ts - ‚úÖ Interfaces actualizadas a nueva BD
- app/api/leads/route.ts - ‚úÖ API adaptada a tablas reales (leads, vista_leads)
- app/api/applicants/route.ts - ‚úÖ API adaptada (aplicantes, vista_aplicantes)
- app/contacto/page.tsx - ‚úÖ Formulario mapeando a tipo_proyecto_id correctamente
- app/sumate/page.tsx - ‚úÖ Formulario usando c√≥digos universidad/carrera
- app/dashboard/page.tsx - ‚úÖ Dashboard leyendo desde vistas optimizadas
- middleware.ts - Protecci√≥n rutas
- lib/auth/simple.ts - Sistema auth b√°sico

PENDIENTES/FUTURO
----------------
- Migrar a Supabase Auth completo cuando escale
- Sistema de usuarios para estudiantes
- Sistema de asignaci√≥n de proyectos
- Notificaciones por email
- M√©tricas avanzadas
- Exportaci√≥n de datos

NOTAS IMPORTANTES
----------------
- Base de datos simplificada intencionalmente (startup approach)
- Skills como texto simple (no over-engineering)
- Solo tablas lookup necesarias con id+name
- Sin campos innecesarios (country, city, website, etc.)
- Enfoque Argentina-first
- Prioridad: funcionalidad sobre perfecci√≥n

ARQUITECTURA DE DECISIONES
--------------------------
1. Skills como TEXT vs tabla relacionada = Simplicidad startup
2. Universidad/Carrera como selects vs texto libre = Consistencia datos
3. Auth simple vs Supabase Auth = MVP r√°pido
4. Campos removidos (presupuesto, tarifa) = Cultural Argentina
5. Experience levels por proyectos vs a√±os = Mejor para estudiantes

DEPLOY
------
‚úÖ Ready para Vercel
‚úÖ Base de datos preparada para Supabase
‚úÖ Variables de entorno configuradas
‚úÖ Middleware funcionando
‚úÖ RLS policies habilitadas

TESTING
-------
Para probar:
1. ‚úÖ create-base.sql ejecutado en Supabase
2. Configurar variables de entorno
3. npm run dev
4. Probar formularios p√∫blicos (adaptados a nueva BD)
5. Login admin: /login
6. Dashboard: /dashboard (usando vistas optimizadas)

MIGRACI√ìN COMPLETADA
--------------------
‚úÖ Base de datos migrada de esquema simple a create-base.sql
‚úÖ Todos los componentes adaptados a nuevas tablas
‚úÖ APIs funcionando con foreign keys correctos
‚úÖ Formularios enviando datos en formato compatible
‚úÖ Dashboard leyendo desde vista_leads y vista_aplicantes
‚úÖ Tipos TypeScript actualizados

CONTACTO/ISSUES
--------------
Si hay problemas:
1. Verificar variables de entorno
2. Confirmar que schema SQL se ejecut√≥ completo
3. Revisar RLS policies en Supabase
4. Verificar cookies en navegador (admin session)

SESI√ìN 25/09/2025 - FORMULARIOS COMPLETAMENTE FUNCIONALES
=========================================================

PROBLEMAS RESUELTOS
------------------
‚úÖ Error RLS Policy - Configurado Service Role Key correcto en .env.local
‚úÖ Error "Maximum update depth exceeded" - Fix en useToast hook (dependencia [state] ‚Üí [])
‚úÖ Campo fuente separado - Agregado fuente?: string a tabla leads para tracking de origen
‚úÖ Formulario sumate optimizado - Apellido separado, 4 skills m√°x, sin disponibilidad

CAMBIOS IMPLEMENTADOS
--------------------

1. CONFIGURACI√ìN SUPABASE:
   - Service Role Key correcto configurado (antes era igual al anon key)
   - RLS policies funcionando correctamente
   - Campo 'fuente' agregado a tabla leads

2. FORMULARIO CONTACTO (/contacto):
   ‚úÖ Campo fuente separado del mensaje
   ‚úÖ Notificaciones toast elegantes (reemplaz√≥ alerts)
   ‚úÖ Validaci√≥n robusta del lado cliente
   ‚úÖ UX espectacular: hover effects, animaciones, rotaciones sutiles
   ‚úÖ API endpoint funcional - POST /api/leads retorna 200 OK

   Datos enviados:
   - nombre, email, telefono, empresa (info contacto)
   - necesidad (descripci√≥n del proyecto)
   - mensaje (detalles espec√≠ficos)
   - fuente (c√≥mo nos conoci√≥: Google, Universidad, LinkedIn, etc.)
   - tipoNecesidad ‚Üí tipo_proyecto_id
   - urgencia ‚Üí urgencia_id

3. FORMULARIO SUMATE (/sumate):
   ‚úÖ Nombre y apellido campos separados (antes era solo nombre completo)
   ‚úÖ M√°ximo 4 habilidades t√©cnicas (antes 8)
   ‚úÖ Secci√≥n "Disponibilidad" completamente removida
   ‚úÖ Validaci√≥n apellido obligatorio agregada
   ‚úÖ Contador din√°mico: "Seleccionadas: X/4 ‚úì Completado"
   ‚úÖ UX mejorado en checkboxes con estados visuales
   ‚úÖ API endpoint funcional - POST /api/applicants retorna 200 OK

   Datos enviados:
   - nombre, apellido (separados), email, telefono
   - universidad, carrera, a√±o (acad√©mico)
   - rol, nivel, skills (4 m√°ximo) (profesional)
   - github, linkedin, portfolio (enlaces)
   - motivacion, experiencia, proyectoInteres (textos)

4. SISTEMA DE NOTIFICACIONES:
   ‚úÖ Hook useToast optimizado (fix bucle infinito)
   ‚úÖ Toaster configurado en layout principal
   ‚úÖ Notificaciones elegantes con variantes (success/error)
   ‚úÖ Animaciones de entrada/salida suaves
   ‚úÖ Remplazo completo de alerts nativos

5. MEJORAS UX/UI:
   ‚úÖ Radio buttons interactivos con iconos y hover states
   ‚úÖ Checkboxes de skills con feedback visual inmediato
   ‚úÖ Botones con animaciones (hover scale, arrow translate)
   ‚úÖ Estados loading con spinners
   ‚úÖ Formularios con efectos paper/sketch para confianza
   ‚úÖ Validaciones instant√°neas con mensajes espec√≠ficos

6. APIS ACTUALIZADAS:
   ‚úÖ POST /api/leads - Manejo correcto de fuente separada
   ‚úÖ POST /api/applicants - Soporte para apellido y skills limitadas
   ‚úÖ Validaciones servidor robustas
   ‚úÖ Respuestas JSON estandarizadas {success: true, data: {...}}
   ‚úÖ Manejo de errores mejorado

7. BASE DE DATOS:
   ‚úÖ Script add-fuente-field.sql creado para agregar columna fuente
   ‚úÖ Vista vista_leads actualizada incluyendo fuente
   ‚úÖ Tipos TypeScript actualizados (Lead interface + fuente)

ARCHIVOS MODIFICADOS EN ESTA SESI√ìN
-----------------------------------
- app/contacto/page.tsx - UX mejorado, toast integration, fuente separada
- app/sumate/page.tsx - Nombre/apellido separados, 4 skills, sin disponibilidad
- app/api/leads/route.ts - Manejo campo fuente, validaciones mejoradas
- app/api/applicants/route.ts - Soporte apellido, mapeos directos por ID
- app/layout.tsx - Toaster component agregado
- components/ui/use-toast.ts - Fix bucle infinito (dependencia [state])
- components/ui/toaster.tsx - Fix import path
- lib/types/database.ts - Agregado fuente?: string a Lead y VistaLead
- scripts/add-fuente-field.sql - Script para agregar columna fuente (NUEVO)
- scripts/temp-disable-rls.sql - Script temporal debugging RLS (NUEVO)
- .env.local - Service role key correcto configurado

TESTING REALIZADO
-----------------
‚úÖ Servidor dev funcionando en localhost:3000
‚úÖ Formulario contacto - env√≠o exitoso (POST 200)
‚úÖ Formulario sumate - env√≠o exitoso (POST 200)
‚úÖ Datos guard√°ndose correctamente en Supabase
‚úÖ Notificaciones toast funcionando
‚úÖ Validaciones cliente/servidor operativas
‚úÖ UX responsiva en desktop

ESTADO ACTUAL
-------------
‚úÖ Formularios 100% funcionales y conectados a BD
‚úÖ UX/UI nivel profesional con confianza visual
‚úÖ APIs robustas con validaci√≥n completa
‚úÖ Base de datos optimizada con campo fuente
‚úÖ Sistema de notificaciones elegante
‚úÖ Error handling completo
‚úÖ Ready para producci√≥n

INSTRUCCIONES PARA CONTINUAR
----------------------------
1. Ejecutar en Supabase SQL Editor:
   ```sql
   ALTER TABLE leads ADD COLUMN IF NOT EXISTS fuente TEXT;
   CREATE INDEX IF NOT EXISTS idx_leads_fuente ON leads(fuente);
   ```

2. Actualizar vista (opcional):
   ```sql
   DROP VIEW IF EXISTS vista_leads;
   CREATE VIEW vista_leads AS
   SELECT l.id, l.nombre, l.email, l.telefono, l.empresa,
          l.necesidad, l.mensaje, l.fuente,
          u.nombre as urgencia, e.descripcion as estado,
          tp.descripcion as tipo_proyecto, l.created_at
   FROM leads l
   LEFT JOIN niveles_urgencia u ON l.urgencia_id = u.id
   LEFT JOIN estados_leads e ON l.estado_id = e.id
   LEFT JOIN tipos_proyecto tp ON l.tipo_proyecto_id = tp.id;
   ```

3. Deploy a producci√≥n - Todo listo ‚úÖ

PR√ìXIMOS PASOS SUGERIDOS
------------------------
- [ ] Dashboard mejorado con m√©tricas de fuente
- [ ] Exportaci√≥n de datos segmentados
- [ ] Email automation para leads y applicants
- [ ] Sistema de matching estudiante-proyecto
- [ ] Analytics avanzados con conversion funnels

SESI√ìN 26/09/2025 - DISE√ëO Y UX COMPLETAMENTE REFINADOS
======================================================

MEJORAS DE DISE√ëO IMPLEMENTADAS
-------------------------------

1. SISTEMA DE COLORES UNIFICADO:
   ‚úÖ Color principal t√≠tulos: #732F17 (marr√≥n elegante)
   ‚úÖ Color botones: #D99962 (dorado c√°lido)
   ‚úÖ Hovers consistentes: rgba(115, 47, 23, X) en toda la aplicaci√≥n
   ‚úÖ Jerarqu√≠a visual clara: t√≠tulos ‚Üí labels ‚Üí contenido

2. FORMULARIO /CONTACTO - MEJORAS VISUALES:
   ‚úÖ Fondo sutil con gradiente imperceptible
   ‚úÖ Cards con sombras m√°s definidas y profundidad real
   ‚úÖ T√≠tulos con color #732F17 y l√≠neas decorativas
   ‚úÖ Inputs con microinteracciones (hover + focus states)
   ‚úÖ Radio buttons completamente clickeables (bug solucionado)
   ‚úÖ Hovers consistentes en elementos de contacto
   ‚úÖ Bot√≥n env√≠o con color #D99962 y efectos elevaci√≥n

3. FORMULARIO /SUMATE - DISE√ëO SOFISTICADO:
   ‚úÖ Fondo notebook (notepad-lines) por detr√°s del formulario
   ‚úÖ Card principal con contraste mejorado: hsl(210 40% 99%)
   ‚úÖ Secciones con fondo ligeramente gris: hsl(210 33% 97%)
   ‚úÖ Efecto papel sutil con texturas radiales
   ‚úÖ Sombras m√°s pronunciadas para separar del fondo
   ‚úÖ Placeholders URL simplificados: "miportfolio.com", "github.com/usuario"
   ‚úÖ Sistema de colores coherente con /contacto

4. MICROINTERACCIONES Y ANIMACIONES:
   ‚úÖ Stagger animations - elementos aparecen progresivamente
   ‚úÖ Inputs con elevaci√≥n sutil al focus
   ‚úÖ Cards con hover states y transform translateY
   ‚úÖ Botones con scaling y sombras din√°micas
   ‚úÖ Transiciones suaves con cubic-bezier easing
   ‚úÖ Radio/checkbox feedback visual inmediato

5. ARQUITECTURA CSS CON BUENAS PR√ÅCTICAS:
   ‚úÖ CSS Custom Properties para consistencia
   ‚úÖ Naming conventions escalables (.form-*, .enhanced-*)
   ‚úÖ Sistema de sombras reutilizable (--shadow-xs, sm, md)
   ‚úÖ Transiciones uniformes (--ease: cubic-bezier)
   ‚úÖ Componentes modulares y mantenibles

6. TIPOGRAF√çA REFINADA:
   ‚úÖ T√≠tulos principales: color #732F17, font-weight 600
   ‚úÖ Letter-spacing optimizado (-0.025em t√≠tulos, 0.01em body)
   ‚úÖ Line-height mejorado (1.1 t√≠tulos, 1.6 p√°rrafos)
   ‚úÖ Labels importantes con peso 500

7. CONTRASTE Y ACCESIBILIDAD:
   ‚úÖ Fondos off-white vs blancos puros para mejor contraste
   ‚úÖ Bordes m√°s definidos: hsl(214 18% 82%)
   ‚úÖ Estados focus con ring de 3px
   ‚úÖ Colores con suficiente contraste para legibilidad

BUGS SOLUCIONADOS
-----------------
‚úÖ Selector roles /sumate - "Data Analyst" no permit√≠a deseleccionar
‚úÖ Selector tipos /contacto - "Consultor√≠a IT" no permit√≠a cambiar
‚úÖ URLs en /sumate ahora sin requerimiento https://
‚úÖ Todo el card clickeable, no solo el radio button

ARCHIVOS MODIFICADOS EN ESTA SESI√ìN
----------------------------------
- app/contacto/page.tsx - Sistema colores #732F17 + #D99962, sombras mejoradas
- app/sumate/page.tsx - Fondo notebook, contraste mejorado, placeholders simples
- Estilos CSS inline actualizados con custom properties y arquitectura escalable

DETALLES T√âCNICOS DEL SISTEMA DE COLORES
----------------------------------------
T√≠tulos y elementos accent: #732F17
- T√≠tulos principales de formularios
- L√≠neas decorativas de 60px
- Bordes en hover y focus
- Iconos seleccionados

Botones principales: #D99962
- Color base c√°lido y amigable
- Hover: rgba(217, 153, 98, 0.9)
- Sombras inset para profundidad

Hovers system:
- Cards: rgba(115, 47, 23, 0.3)
- Inputs: rgba(115, 47, 23, 0.4) en hover, #732F17 en focus
- Secciones: rgba(115, 47, 23, 0.3)

ESTADO VISUAL ACTUAL
-------------------
‚úÖ Dise√±o minimalista pero NO plano
‚úÖ Jerarqu√≠a visual clara y elegante
‚úÖ Microinteracciones profesionales
‚úÖ Sistema de colores coherente entre formularios
‚úÖ Contraste optimizado sin perder elegancia
‚úÖ Animaciones sutiles que gu√≠an la atenci√≥n
‚úÖ Ready para impresionar en producci√≥n

SESI√ìN 26/09/2025 - VALIDACIONES BURBUJAS CONVERSACIONALES IMPLEMENTADAS
========================================================================

MEJORAS DE VALIDACIONES IMPLEMENTADAS
-------------------------------------

1. SISTEMA DE VALIDACIONES INLINE CREATIVO:
   ‚úÖ Eliminadas validaciones HTML nativas (tooltips feos)
   ‚úÖ Implementado sistema de burbujas de conversaci√≥n elegantes
   ‚úÖ Animaciones CSS con bubbleIn effect y transiciones suaves
   ‚úÖ Mensajes conversacionales pero profesionales
   ‚úÖ Auto-hide al corregir el campo problem√°tico

2. DISE√ëO DE BURBUJAS CONVERSACIONALES:
   ‚úÖ Gradiente elegante: #fef2f2 ‚Üí #fee2e2
   ‚úÖ Flecha CSS que apunta al campo espec√≠fico
   ‚úÖ Border-radius 16px para look moderno
   ‚úÖ Sombra sutil: rgba(220, 38, 38, 0.15)
   ‚úÖ Emoji üí≠ para tono conversacional
   ‚úÖ Padding y spacing optimizados

3. FORMULARIO CONTACTO - VALIDACIONES COMPLETAS:
   ‚úÖ Nombre: "¬øC√≥mo te llamas? Nos gustar√≠a conocerte"
   ‚úÖ Email: "¬øC√≥mo te contactamos sin tu email?" / "Pon un email v√°lido"
   ‚úÖ Tel√©fono: Validaci√≥n burbuja agregada
   ‚úÖ Descripci√≥n proyecto: "Cu√©ntanos sobre tu proyecto. ¬°Nos emociona conocer tu idea!"
   ‚úÖ Tipo soluci√≥n: "¬øQu√© tipo de soluci√≥n necesitas? Ay√∫danos a entenderte"

4. FORMULARIO SUMATE - VALIDACIONES EXHAUSTIVAS:
   ‚úÖ Nombre: "¬øC√≥mo te llamas? ¬°Nos encanta conocer gente nueva!"
   ‚úÖ Apellido: "Tambi√©n necesitamos tu apellido para conocerte mejor"
   ‚úÖ Email: "¬øC√≥mo te contactamos para la entrevista?" / "Pon un email v√°lido"
   ‚úÖ Tel√©fono: Validaci√≥n burbuja implementada
   ‚úÖ Universidad: "¬øDe qu√© universidad eres? ¬°Queremos conocerte!"
   ‚úÖ Carrera: "Cu√©ntanos qu√© estudias. ¬°Nos interesa!"
   ‚úÖ A√±o carrera: "¬øEn qu√© a√±o est√°s? Nos ayuda a encontrar el proyecto perfecto"
   ‚úÖ Rol: "¬øEn qu√© te gustar√≠a trabajar? ¬°Todos los roles son geniales!"
   ‚úÖ Nivel experiencia: "¬øCu√°ntos proyectos has hecho? ¬°Ay√∫danos a conocer tu experiencia!"
   ‚úÖ Skills: "Selecciona tus superpoderes t√©cnicos. ¬°Al menos uno!"
   ‚úÖ Motivaci√≥n: "Cu√©ntanos tu historia. ¬øPor qu√© quieres unirte a nosotros?"

5. ELIMINACI√ìN DE VALIDACIONES HTML NATIVAS:
   ‚úÖ Removido type="email" ‚Üí type="text" + inputMode="email"
   ‚úÖ Agregado autoComplete="email" para UX m√≥vil
   ‚úÖ Eliminados tooltips nativos feos del navegador
   ‚úÖ Mantenida funcionalidad completa de validaci√≥n custom
   ‚úÖ Preservado teclado de email en dispositivos m√≥viles

6. CARACTER√çSTICAS T√âCNICAS DE LAS BURBUJAS:
   ‚úÖ Clase .error-bubble con animaci√≥n bubbleIn
   ‚úÖ Posicionamiento absoluto con flechas CSS
   ‚úÖ Estados hover e input-error para feedback visual
   ‚úÖ Sistema de cleanup autom√°tico al escribir
   ‚úÖ Integraci√≥n perfecta con design system existente

ARCHIVOS MODIFICADOS EN ESTA SESI√ìN
-----------------------------------
- app/contacto/page.tsx - Sistema completo de burbujas conversacionales
- app/sumate/page.tsx - Validaciones exhaustivas con burbujas elegantes
- CSS inline actualizado con animaciones y estilos de burbujas
- Validaciones HTML nativas eliminadas (noValidate + type="text")

CARACTER√çSTICAS DE LOS MENSAJES
-------------------------------
Tono: Conversacional pero profesional
Estilo: Preguntas amigables que gu√≠an al usuario
Emojis: Solo üí≠ para mantener consistencia
Longitud: Mensajes concisos y directos
Personalidad: C√°lida pero empresarial

ESTADO T√âCNICO
--------------
‚úÖ Todas las validaciones funcionando perfecto
‚úÖ Sin conflictos con validaciones nativas del browser
‚úÖ Animaciones CSS optimizadas y suaves
‚úÖ Responsive design mantenido
‚úÖ Accesibilidad preservada
‚úÖ Performance √≥ptimo

SESI√ìN 26/09/2025 - CV UPLOAD + CRM SISTEMA COMPLETO + AUTENTICACI√ìN INTELIGENTE
===============================================================================

NUEVAS FUNCIONALIDADES IMPLEMENTADAS
-------------------------------------

1. CV UPLOAD SYSTEM - SUPABASE STORAGE:
   ‚úÖ Configuraci√≥n completa de Supabase Storage bucket 'cvs'
   ‚úÖ RLS policies para acceso seguro a CVs
   ‚úÖ API endpoint /api/upload-cv para manejar uploads
   ‚úÖ Validaci√≥n file size (m√°x 5MB) y tipo (solo PDF)
   ‚úÖ Nombres √∫nicos con timestamp: email_timestamp.pdf
   ‚úÖ Campo cv_url agregado a tabla aplicantes
   ‚úÖ Funciones helper en lib/supabase/storage.ts
   ‚úÖ Integraci√≥n en formulario /sumate con drag & drop

   Scripts SQL ejecutados:
   - scripts/add-cv-field.sql - Agrega cv_url a aplicantes
   - scripts/setup-storage.sql - Configura bucket y policies

2. CRM SISTEMA COMPLETO:
   ‚úÖ Dashboard CRM unificado en /dashboard/crm
   ‚úÖ Gesti√≥n completa de LEADS con filtros y estados
   ‚úÖ Gesti√≥n completa de ESTUDIANTES con CVs
   ‚úÖ Componentes LeadsCRM.tsx y StudentsCRM.tsx
   ‚úÖ Filtros avanzados: estado, rol, universidad, fecha
   ‚úÖ Paginaci√≥n, b√∫squeda y ordenamiento
   ‚úÖ Visualizaci√≥n de CVs en modal integrado
   ‚úÖ Actualizaci√≥n de estados en tiempo real
   ‚úÖ Estad√≠sticas y m√©tricas en tiempo real
   ‚úÖ Export de datos (preparado para futuro)

   Caracter√≠sticas del CRM:
   - Vista tabular con datos completos
   - Modals para ver perfiles detallados
   - Botones de acci√≥n para cambiar estados
   - Toasts para feedback de operaciones
   - Responsive design completo
   - Estados visuales con badges coloridos

3. NAVEGACI√ìN MEJORADA:
   ‚úÖ Navbar limpia sin Login/Register buttons
   ‚úÖ Breadcrumb navigation con estados activos
   ‚úÖ Navegaci√≥n Dashboard ‚Üî CRM fluida
   ‚úÖ Indicadores visuales de p√°gina actual
   ‚úÖ Eliminados elementos innecesarios como "Ver sitio web"

   Estructura de navegaci√≥n:
   - / (Home p√∫blico)
   - /login (Solo admins)
   - /dashboard (Panel principal con m√©tricas)
   - /dashboard/crm (CRM completo)
   - /contacto y /sumate (Formularios p√∫blicos)

4. SISTEMA DE AUTENTICACI√ìN INTELIGENTE:
   ‚úÖ Database-based authentication con bcrypt
   ‚úÖ Tabla admins con roles y permisos
   ‚úÖ Sistema de sesiones con UUID tokens
   ‚úÖ Bloqueo autom√°tico tras 5 intentos fallidos
   ‚úÖ Logging inteligente SOLO de eventos cr√≠ticos
   ‚úÖ Auto-limpieza de logs antiguos (3 meses)
   ‚úÖ IPs anonimizadas autom√°ticamente
   ‚úÖ Detecci√≥n de dispositivos simplificada
   ‚úÖ API setup DESHABILITADA por seguridad m√°xima

   Caracter√≠sticas de seguridad:
   - Passwords hasheados con bcrypt (12 rounds)
   - Sesiones expiran en 24 horas
   - Intentos fallidos rastreados
   - Cuentas se bloquean autom√°ticamente
   - Solo eventos importantes se logean
   - Cleanup autom√°tico de datos antiguos

ARQUITECTURA DE AUTENTICACI√ìN IMPLEMENTADA
------------------------------------------

Tablas principales:
```sql
admins:
- id (UUID), email, password_hash, nombre, apellido
- rol ('admin' | 'super_admin'), activo (boolean)
- ultimo_login, intentos_fallidos, bloqueado_hasta

admin_sessions:
- id (UUID), admin_id, session_token, expires_at
- device_info (simplificado), last_activity

admin_security_logs:
- id (UUID), email, evento, detalle
- ip_aproximada (anonimizada), created_at
```

Eventos que se logean (solo importantes):
- login_failed: Cuando falla autenticaci√≥n
- account_blocked: Cuando se bloquea cuenta
- suspicious_activity: Actividad extra√±a
- password_changed: Cambios de contrase√±a

NO se logean eventos normales como:
- Logins exitosos
- Navegaci√≥n por dashboard
- Operaciones CRUD normales

ARCHIVOS CLAVE NUEVOS/MODIFICADOS
----------------------------------

Nuevos archivos:
- scripts/add-cv-field.sql - Agrega cv_url a aplicantes
- scripts/setup-storage.sql - Configura Supabase Storage
- scripts/admin-system.sql - Sistema auth inteligente completo
- lib/supabase/storage.ts - Funciones manejo CVs
- app/api/upload-cv/route.ts - API upload CVs
- components/dashboard/LeadsCRM.tsx - CRM completo leads
- components/dashboard/StudentsCRM.tsx - CRM completo estudiantes
- app/dashboard/crm/page.tsx - Dashboard CRM unificado
- lib/auth/admin-auth.ts - Sistema auth completo
- app/api/auth/login/route.ts - API login con bcrypt
- app/api/auth/logout/route.ts - API logout
- app/api/auth/setup/route.ts - API setup (DESHABILITADA)
- lib/auth/simple.ts - Helpers auth simplificados

Modificados:
- app/sumate/page.tsx - Integraci√≥n CV upload
- app/dashboard/page.tsx - Fix imports y navegaci√≥n
- app/login/page.tsx - Actualizado para email+password
- components/footer.tsx - Navegaci√≥n limpia
- middleware.ts - Protecci√≥n con nuevo auth system

FUNCIONALIDADES CRM DETALLADAS
-------------------------------

LeadsCRM:
- Lista todos los leads con informaci√≥n completa
- Filtros: estado, urgencia, tipo proyecto, fecha
- B√∫squeda por nombre, email, empresa
- Cambio de estado directo desde tabla
- Modal con detalles completos del lead
- Paginaci√≥n y ordenamiento
- M√©tricas en tiempo real

StudentsCRM:
- Lista todos los estudiantes con perfil completo
- Filtros: estado, rol, universidad, nivel, fecha
- B√∫squeda por nombre, email, skills
- Visualizaci√≥n de CVs en modal integrado
- Cambio de estado y seguimiento
- Informaci√≥n acad√©mica y profesional
- Enlaces directos a GitHub, LinkedIn, Portfolio

Dashboard principal:
- M√©tricas unificadas: leads, conversiones, estudiantes
- Acceso r√°pido a CRM y formularios
- Navegaci√≥n breadcrumb elegante
- Logout functionality

CONFIGURACI√ìN REQUERIDA ACTUALIZADA
------------------------------------

.env.local:
```
# Supabase (requerido)
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOi...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOi...

# App (requerido)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Auth legacy - YA NO SE USA
ADMIN_PASSWORD=tecwork_admin_2024  # OBSOLETO
```

SCRIPTS SQL PARA EJECUTAR
--------------------------

1. Base del sistema (ya ejecutado):
   - scripts/create-base.sql

2. Nuevas funcionalidades:
   - scripts/add-cv-field.sql (CV upload)
   - scripts/setup-storage.sql (Supabase Storage)
   - scripts/admin-system.sql (Auth inteligente)

3. Crear primer admin (EN SUPABASE SQL EDITOR):
```sql
INSERT INTO admins (email, password_hash, nombre, apellido, rol)
VALUES (
  'tu-email@ejemplo.com',
  crypt('tu-password-seguro', gen_salt('bf')),
  'Tu Nombre',
  'Tu Apellido',
  'super_admin'
);
```

SEGURIDAD IMPLEMENTADA
----------------------

‚úÖ API setup completamente DESHABILITADA
‚úÖ Solo creaci√≥n de admins via SQL directo
‚úÖ Passwords bcrypt con 12 rounds
‚úÖ Sesiones UUID con expiraci√≥n
‚úÖ Bloqueo autom√°tico de cuentas
‚úÖ Logging inteligente anti-spam
‚úÖ IPs anonimizadas autom√°ticamente
‚úÖ Cleanup autom√°tico de datos antiguos
‚úÖ RLS policies en todas las tablas
‚úÖ Middleware de protecci√≥n de rutas

ESTADO FINAL
------------

‚úÖ Sistema CV upload completamente funcional
‚úÖ CRM completo para gesti√≥n de leads y estudiantes
‚úÖ Navegaci√≥n optimizada y limpia
‚úÖ Autenticaci√≥n de nivel empresarial
‚úÖ M√°xima seguridad implementada
‚úÖ Base de datos optimizada con logging inteligente
‚úÖ Ready para producci√≥n con todos los sistemas cr√≠ticos

TESTING COMPLETADO
-------------------

‚úÖ Formularios funcionando con CV upload
‚úÖ CRM operativo con filtros y b√∫squedas
‚úÖ Sistema auth funcionando sin errores TypeScript
‚úÖ Navegaci√≥n fluida entre secciones
‚úÖ Storage policies funcionando correctamente
‚úÖ Logging de seguridad operativo
‚úÖ Servidor dev sin errores de compilaci√≥n

PR√ìXIMOS PASOS PARA PRODUCCI√ìN
-------------------------------

1. Ejecutar scripts SQL en Supabase producci√≥n
2. Configurar variables de entorno producci√≥n
3. Crear primer admin via SQL directo
4. Deploy a Vercel
5. Verificar Storage bucket y policies
6. Testing completo en producci√≥n

SESI√ìN 28/09/2025 - DEPLOY EXITOSO A VERCEL - PRODUCCI√ìN LIVE
==============================================================

DEPLOY COMPLETADO EXITOSAMENTE
-------------------------------

1. DEPLOYMENT A VERCEL:
   ‚úÖ Repositorio GitHub conectado: AgustinLago22/tecwork
   ‚úÖ Proyecto deployado como: tecwork-w526
   ‚úÖ URL temporal funcionando: https://tecwork-w526.vercel.app/
   ‚úÖ Build exitoso: 25 p√°ginas generadas sin errores
   ‚úÖ Middleware cargado: 34.1 kB
   ‚úÖ Todas las APIs funcionando (12 endpoints)
   ‚úÖ Base de datos Supabase conectada correctamente

2. CONFIGURACI√ìN DE VARIABLES DE ENTORNO:
   ‚úÖ NEXT_PUBLIC_SUPABASE_URL configurada
   ‚úÖ NEXT_PUBLIC_SUPABASE_ANON_KEY configurada
   ‚úÖ SUPABASE_SERVICE_ROLE_KEY configurada
   ‚úÖ NODE_ENV=production establecido

   Variables de entorno simplificadas (ADMIN_PASSWORD no necesaria):
   - Sistema auth usa database-based authentication
   - No requiere variables legacy de auth simple

3. PROBLEMAS RESUELTOS DURANTE DEPLOY:
   ‚úÖ Error pnpm lockfile ‚Üí Forzado uso de npm en Vercel
   ‚úÖ Error "invalid characters" ‚Üí Nombre proyecto cambiado a tecworkapp
   ‚úÖ Build fallando sin variables ‚Üí Variables agregadas post-deploy
   ‚úÖ Configuraci√≥n build commands: npm install, npm run build, .next

4. TESTING PRODUCCI√ìN COMPLETADO:
   ‚úÖ Sitio web principal cargando correctamente
   ‚úÖ Formularios /contacto y /sumate funcionando
   ‚úÖ Sistema login admin operativo: /login
   ‚úÖ Dashboard accesible con autenticaci√≥n
   ‚úÖ CRM completo funcionando: /dashboard/crm
   ‚úÖ Base de datos conectada y operativa
   ‚úÖ CV upload system funcionando
   ‚úÖ Todas las funcionalidades operativas

5. DOMINIO PERSONALIZADO CONFIGURADO:
   ‚úÖ tecwork.ar agregado en Vercel
   ‚úÖ Delegaci√≥n DNS configurada en NIC Argentina
   ‚úÖ Nameservers Vercel establecidos
   ‚è≥ Esperando propagaci√≥n DNS (24-48 horas)
   ‚úÖ NEXT_PUBLIC_APP_URL ser√° actualizada a https://tecwork.ar

CONFIGURACI√ìN BUILD EN VERCEL
------------------------------
- Project Name: tecworkapp
- Framework: Next.js (auto-detectado)
- Root Directory: (vac√≠o - default)
- Install Command: npm install
- Build Command: npm run build
- Output Directory: .next

DOMINIO Y DNS
-------------
- URL Temporal: https://tecwork-w526.vercel.app/ (FUNCIONANDO)
- URL Final: https://tecwork.ar (configurado, esperando propagaci√≥n)
- Delegaci√≥n: ns1.vercel-dns.com, ns2.vercel-dns.com
- Estado DNS: Invalid Configuration (normal durante propagaci√≥n)

ESTADO DE PRODUCCI√ìN
---------------------
‚úÖ TecWork est√° oficialmente LIVE y funcionando
‚úÖ Todos los sistemas operativos en producci√≥n
‚úÖ Formularios capturando leads y estudiantes reales
‚úÖ Dashboard admin completamente funcional
‚úÖ Sistema seguro con autenticaci√≥n empresarial
‚úÖ CV upload operativo con Supabase Storage
‚úÖ CRM completo para gesti√≥n de usuarios
‚úÖ Ready para conectar estudiantes con proyectos reales

INSTRUCCIONES POST-DEPLOY
--------------------------
1. Monitorear propagaci√≥n DNS en whatsmydns.net
2. Cuando tecwork.ar funcione, actualizar NEXT_PUBLIC_APP_URL
3. Promover plataforma a estudiantes UNNE y empresas
4. Comenzar gesti√≥n de leads y aplicantes reales
5. Monitorear m√©tricas y feedback de usuarios

ARQUITECTURA EN PRODUCCI√ìN
---------------------------
- Frontend: Next.js 15 + TypeScript + Tailwind CSS
- Backend: Vercel Edge Functions + API Routes
- Database: Supabase PostgreSQL con RLS policies
- Storage: Supabase Storage para CVs
- Auth: Custom session-based con bcrypt
- Deploy: Vercel con CI/CD desde GitHub
- Domain: tecwork.ar (delegado via nameservers)

M√âTRICAS DE BUILD EXITOSO
--------------------------
```
Route (app)                                 Size  First Load JS
‚îå ‚óã /                                      172 B         105 kB
‚îú ‚óã /_not-found                            994 B         103 kB
‚îú ‚óã /about                                 172 B         105 kB
‚îú ∆í /api/applicants                        146 B         102 kB
‚îú ∆í /api/applicants/update                 146 B         102 kB
‚îú ∆í /api/auth/login                        146 B         102 kB
‚îú ∆í /api/auth/logout                       146 B         102 kB
‚îú ∆í /api/auth/setup                        146 B         102 kB
‚îú ∆í /api/auth/verify                       146 B         102 kB
‚îú ∆í /api/leads                             146 B         102 kB
‚îú ∆í /api/leads/update                      146 B         102 kB
‚îú ∆í /api/upload-cv                         146 B         102 kB
‚îú ‚óã /casos                                 172 B         105 kB
‚îú ‚óã /contacto                            10.2 kB         158 kB
‚îú ∆í /dashboard                             172 B         105 kB
‚îú ∆í /dashboard/crm                       15.9 kB         158 kB
‚îú ‚óã /login                               3.85 kB         121 kB
‚îú ‚óã /privacidad                          1.77 kB         115 kB
‚îú ‚óã /register                             4.8 kB         148 kB
‚îú ‚óã /servicios                             172 B         105 kB
‚îú ‚óã /sumate                              11.7 kB         164 kB
‚îî ‚óã /terminos                            1.77 kB         115 kB
```

√öLTIMA ACTUALIZACI√ìN
--------------------
Fecha: 28/09/2025
Estado: üöÄ TECWORK OFICIALMENTE LIVE EN PRODUCCI√ìN
URL: https://tecwork-w526.vercel.app/ (funcionando)
Domain: https://tecwork.ar (configurado, propagando)

‚úÖ PROYECTO COMPLETAMENTE DEPLOYADO Y OPERATIVO
‚úÖ Conectando estudiantes universitarios con proyectos reales
‚úÖ Sistema empresarial completo funcionando en producci√≥n
‚úÖ Listo para generar impacto real en la comunidad tech ‚úÖ